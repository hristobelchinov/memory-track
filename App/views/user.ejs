<section class="user-profile">
    <div class="info-text"><h1><strong><%= currentUser.displayName %></strong></h1><p><small>Email:</small> <%= currentUser.email %></p>
        <small><p>Username:</small> <%= currentUser.username %></p>
    <p><small>Joined:</small> <%= new Date(currentUser.createdAt).toLocaleDateString() %></p>
        <hr>
    <br>
    </div>
    
    
    <!-- Edit Form -->
    <form action="/user/<%= currentUser.id %>?_method=PATCH" method="POST" id="editForm" style="display:none;">
        <div class="form-control">
            <label for="username">Username</label>
            <input id="username" class="form-control" name="username" value="<%= currentUser.username %>">
            <br>
            <br>
            <label for="email">Email</label>
            <input id="email" class="form-control" name="email" value="<%= currentUser.email %>">
            <br>
            <br>
            <label for="displayName">Display Name</label>
            <input id="displayName" class="form-control" name="displayName" value="<%= currentUser.displayName %>">
            <br>
            <div style="display: flex; justify-content: end; margin-right: -5px; margin-top: 5px;">
                <button type="button" id="closeBtn" class="btn-accent" style="margin: 5px; color: white; border-color: white;">
                    Cancel
                </button>
                <button type="submit" class="btn-accent" style="margin: 5px; color: white; border-color: white;">
                    Submit Changes
                </button>
            </div>
        </div>
    </form>

    <button class="btn-accent" style="margin-left: 35px; width: 70px; height: 40; font-family: Calibri;">Posts</button>
        <hr style="margin-left: 35px;">
    <!--# Delete User #-->
    <form action="/user/<%=currentUser.id%>?_method=DELETE" method="POST">  <!--! Query for overriding !-->
        <!--# Edit Button Toggle #-->
    <button type="button" id="editBtn" class="btn-accent" style="width: 70px; height: 40px; padding: 10px; margin-left: 35px; font-family: Calibri;"><b>
    Edit
    </b></button>
    <button id="delete" type="submit" class="btn-accent" style="background-color: #c9c9c96c; color: rgb(158, 47, 47); border: 1px solid black; width: 70px; height: 40px; padding: 10px; font-family: Calibri;"><b>
        Delete
    </b></button>
    </form>

    <script>
        const editBtn = document.getElementById('editBtn');
        const closeBtn = document.getElementById('closeBtn');
        const editForm = document.getElementById('editForm');
        const delBtn = document.getElementById('delete');   

        editBtn.addEventListener('click', () => {
            editForm.style.display = 'block';
            editBtn.style.display = 'none';
            delBtn.style.margin = '10px';
        });

        closeBtn.addEventListener('click', () => {
            editForm.style.display = 'none';
            editBtn.style.display = 'inline-block';
            delBtn.style.margin = '5px';
        });
    </script>
</section>